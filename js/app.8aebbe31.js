(function(t){function e(e){for(var r,c,u=e[0],i=e[1],s=e[2],l=0,b=[];l<u.length;l++)c=u[l],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&b.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);d&&d(e);while(b.length)b.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},c={app:0},a={app:0},o=[];function u(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-72cf4c98":"06f3ddf9","chunk-7457aa34":"2bbeb152"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n={"chunk-72cf4c98":1,"chunk-7457aa34":1};c[t]?e.push(c[t]):0!==c[t]&&n[t]&&e.push(c[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-72cf4c98":"5e6556e4","chunk-7457aa34":"27e77f8b"}[t]+".css",a=i.p+r,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var s=o[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===a))return e()}var b=document.getElementsByTagName("style");for(u=0;u<b.length;u++){s=b[u],l=s.getAttribute("data-href");if(l===r||l===a)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var r=e&&e.target&&e.target.src||a,o=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete c[t],d.parentNode.removeChild(d),n(o)},d.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){c[t]=0})));var r=a[t];if(0!==r)if(r)e.push(r[2]);else{var o=new Promise((function(e,n){r=a[t]=[e,n]}));e.push(r[2]=o);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(t);var b=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),c=e&&e.target&&e.target.src;b.message="Loading chunk "+t+" failed.\n("+r+": "+c+")",b.name="ChunkLoadError",b.type=r,b.request=c,n[1](b)}a[t]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/logs/",i.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var b=0;b<s.length;b++)e(s[b]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},1360:function(t,e,n){},1479:function(t,e,n){"use strict";n("f12d")},"1e8d":function(t,e,n){"use strict";n("4730")},"1fae":function(t,e,n){"use strict";n("f8a4")},"21eb":function(t,e,n){"use strict";n("ebe2")},"2d1b":function(t,e,n){},"2d89":function(t,e,n){},"2e43":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("d4ec"),c=n("bee2"),a=(n("99af"),n("4d90"),n("d3b7"),n("25f0"),n("4de4"),n("d81d"),n("7a23")),o=n("0643");function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",e=Object(a["C"])(o["a"].getDatabase(t)),n=function(t){return t.getTags().map((function(t){return e.value.get("tag",t)})).filter((function(t){return t}))};return{getLogTags:n}}var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r["a"])(this,t),this.identifier=e.identifier||null,this.content=e.content||"",this.hours=e.hours||1,this.date=e.date||new Date,this.tags=e.tags||[]}return Object(c["a"])(t,[{key:"getIdentifier",value:function(){return this.identifier}},{key:"getContent",value:function(){return this.content}},{key:"getHours",value:function(){return this.hours}},{key:"getDate",value:function(){return this.date}},{key:"getMonthString",value:function(){return"".concat(this.date.getFullYear(),"/").concat(this.date.getMonth()+1)}},{key:"getTags",value:function(){return this.tags}},{key:"getRelations",value:function(){var t=this;return{getTags:function(){return u().getLogTags(t)}}}},{key:"getDateString",value:function(){var t=this.date,e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r)}}],[{key:"getNormalizer",value:function(){return{normalize:function(t){return{identifier:t.getIdentifier(),content:t.getContent(),hours:t.getHours(),date:t.getDate(),tags:t.getTags()}},denormalize:function(e){return e.date=e.date?new Date(e.date):new Date,e.tags=e.tags||[],new t(e)}}}}]),t}()},"2f10":function(t,e,n){"use strict";n("5de9")},4730:function(t,e,n){},"56cd":function(t,e,n){},"5de9":function(t,e,n){},"721c":function(t,e,n){"use strict";n("a51c")},"7cc6":function(t,e,n){"use strict";n("c036")},"7f19":function(t,e,n){"use strict";var r=n("7a23"),c={class:"the-card"},a={key:0,class:"the-card-title"},o={class:"the-card-content"};function u(t,e,n,u,i,s){return Object(r["x"])(),Object(r["f"])("div",c,[t.title?(Object(r["x"])(),Object(r["f"])("div",a,[Object(r["g"])("h2",null,Object(r["I"])(t.title),1)])):Object(r["e"])("",!0),Object(r["g"])("div",o,[Object(r["E"])(t.$slots,"default",{},void 0,!0)])])}var i=Object(r["j"])({props:{title:{type:String}}}),s=(n("1479"),n("6b0d")),l=n.n(s);const b=l()(i,[["render",u],["__scopeId","data-v-4078a343"]]);e["a"]=b},"81a1":function(t,e,n){},8400:function(t,e,n){"use strict";n("56cd")},"89d4":function(t,e,n){},"8ccc":function(t,e,n){"use strict";n("99af");var r=n("7a23");function c(t,e,n,c,a,o){return Object(r["x"])(),Object(r["f"])("button",{ref:"buttonReference",class:Object(r["q"])(["the-button","".concat(t.type," ").concat(t.size)])},Object(r["I"])(t.label),3)}var a=Object(r["j"])({props:{label:{type:String},type:{type:String,default:"default"},size:{type:String,default:""},autoFocus:{type:Boolean,default:!1}},setup:function(t){var e=Object(r["C"])(null);return Object(r["v"])((function(){var n=e.value;t.autoFocus&&n&&n.focus()})),{buttonReference:e}}}),o=(n("7cc6"),n("6b0d")),u=n.n(o);const i=u()(a,[["render",c],["__scopeId","data-v-23fe28a8"]]);e["a"]=i},"928c":function(t,e,n){},"96b3":function(t,e,n){"use strict";n("89d4")},"9d96":function(t,e,n){"use strict";n("9ff1")},"9ff1":function(t,e,n){},a05f:function(t,e,n){},a51c:function(t,e,n){},a654:function(t,e,n){"use strict";n("928c")},aac8:function(t,e,n){"use strict";n("81a1")},b92a:function(t,e,n){"use strict";n("1360")},ba8c:function(t,e,n){},c036:function(t,e,n){},c1d1:function(t,e,n){"use strict";n("2d1b")},c7dd:function(t,e,n){"use strict";n("2d89")},cc3c:function(t,e,n){"use strict";n("a05f")},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c={class:"container mt-30 px-20"};function a(t,e,n,a,o,u){var i=Object(r["F"])("router-view"),s=Object(r["F"])("modals");return Object(r["x"])(),Object(r["f"])(r["a"],null,[Object(r["g"])("div",c,[Object(r["i"])(i)]),Object(r["i"])(s)],64)}var o={key:0,class:"modals"},u={class:"modals-content"};function i(t,e,n,c,a,i){return t.services.modalService.getModals().length?(Object(r["x"])(),Object(r["f"])("div",o,[Object(r["g"])("div",u,[(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["D"])(t.services.modalService.getModals(),(function(t){return Object(r["x"])(),Object(r["d"])(Object(r["G"])(t.component),Object(r["o"])(t.properties,Object(r["J"])(t.listeners),{key:t,class:"modal"}),null,16)})),128))])])):Object(r["e"])("",!0)}var s=n("d4ec"),l=n("bee2"),b=new(function(){function t(){Object(s["a"])(this,t),this.modals=[]}return Object(l["a"])(t,[{key:"open",value:function(t){var e=this;t.component=Object(r["H"])(t.component.default),t.listeners=t.listeners||{},t.listeners.close=function(){return e.pop()},this.modals.push(t)}},{key:"pop",value:function(){this.modals.pop()}},{key:"getModals",value:function(){return this.modals}}]),t}()),d=Object(r["j"])({setup:function(){var t=Object(r["B"])({modalService:b});return{services:t}}}),f=(n("c7dd"),n("6b0d")),g=n.n(f);const j=g()(d,[["render",i],["__scopeId","data-v-c91fb420"]]);var O=j,h=n("2e43"),v=n("f729"),p=n("c64c");function m(){var t=function(t){var e=document.querySelectorAll(t);if(!e.length)return null;e.length>1&&console.log("More than one element found for selector: ".concat(t));var n=e[0];return n instanceof HTMLElement?n:null};return{findExactlyOneHtmlElementOrNull:t}}var y=n("1da1"),k=(n("96cf"),n("0643"));function x(){return{fileStore:Object(r["C"])(k["a"])}}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",e=x(),n=e.fileStore,c=Object(r["C"])(!1),a=Object(r["C"])(null),o=Object(r["b"])((function(){return n.value.isDatabaseRegistered(t)})),u=Object(r["b"])((function(){return n.value.getDatabase(t)}));return Object(r["v"])(Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.value.isDatabaseStored(t);case 2:a.value=e.sent,c.value=!0;case 4:case"end":return e.stop()}}),e)})))),{isReady:c,isDatabaseLoaded:o,isStoredInSession:a,database:u,createDatabase:function(){return n.value.createAndRegisterDatabase(t)},pickDatabase:function(){return n.value.pickAndRegisterDatabase(t)},pickDatabaseFromSession:function(){return n.value.pickFromSessionAndRegisterDatabase(t)},unregisterDatabase:function(){return n.value.unregisterDatabase(t)},registerNormalizer:function(e,r){return n.value.registerSerializer(e,r,t)}}}var S={components:{Modals:O},setup:function(){var t=m(),e=t.findExactlyOneHtmlElementOrNull,n=w(),r=n.registerNormalizer;return p["b"].push([new p["a"]({key:"a",action:function(){var t;return null===(t=e(".short-cutter-a"))||void 0===t?void 0:t.click()}}),new p["a"]({key:"s",action:function(){var t;return null===(t=e(".short-cutter-s"))||void 0===t?void 0:t.click()}}),new p["a"]({key:"Escape",action:function(){var t;return null===(t=e(".short-cutter-escape"))||void 0===t?void 0:t.click()}}),new p["a"]({key:"1",action:function(){var t;return null===(t=e(".short-cutter-1"))||void 0===t?void 0:t.click()}}),new p["a"]({key:"2",action:function(){var t;return null===(t=e(".short-cutter-2"))||void 0===t?void 0:t.click()}}),new p["a"]({key:"3",action:function(){var t;return null===(t=e(".short-cutter-3"))||void 0===t?void 0:t.click()}})]),r("log",h["a"].getNormalizer()),r("tag",v["a"].getNormalizer()),{}}};n("aac8");const D=g()(S,[["render",a]]);var T=D,I=n("6c02");function _(t,e,n,c,a,o){var u=Object(r["F"])("the-database-picker");return Object(r["x"])(),Object(r["f"])("div",null,[Object(r["i"])(u)])}function F(t,e){Object(r["M"])(t,e,{immediate:!0})}var L={key:0,class:"the-database-picker"},C=Object(r["g"])("p",null,"You have 2 options: Pick an existing database or create a new one.",-1),M={class:"mt-10"};function N(t,e,n,c,a,o){var u=Object(r["F"])("the-button"),i=Object(r["F"])("card");return t.isReady?(Object(r["x"])(),Object(r["f"])("div",L,[Object(r["i"])(i,{title:"Choose"},{default:Object(r["N"])((function(){return[C,Object(r["g"])("div",M,[t.isStoredInSession?(Object(r["x"])(),Object(r["d"])(u,{key:0,label:"Continue session",onClick:t.pickDatabaseFromSession,type:"primary","auto-focus":!0},null,8,["onClick"])):Object(r["e"])("",!0),Object(r["i"])(u,{label:"Pick database",onClick:t.pickDatabase,"auto-focus":!t.isStoredInSession,type:"primary"},null,8,["onClick","auto-focus"]),Object(r["i"])(u,{label:"Create database",onClick:t.createDatabase},null,8,["onClick"])])]})),_:1})])):Object(r["e"])("",!0)}var B=n("5530"),R=n("7f19"),A=n("8ccc");n("4de4"),n("d3b7"),n("159b");function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"input, button, select, textarea, a[href]",e=document.activeElement,n=document.querySelectorAll(t),r=Array.prototype.filter.call(n,(function(t){return t.tabIndex>="0"})),c=r.indexOf(e);return r[c+1]||r[0]}function Y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"input, button, select, textarea, a[href]",e=document.activeElement,n=document.querySelectorAll(t),r=Array.prototype.filter.call(n,(function(t){return t.tabIndex>="0"})).reverse(),c=r.indexOf(e);return r[c+1]||r[0]}function H(t){var e=0;return t.forEach((function(t){e+=t})),e}function z(t){return["NaM","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t]||"NaM"}function q(t){return["#2062a2","#8d1919","#c9a712","#18c912","#868628","#c2199a"][t]||"#000"}var P=Object(r["j"])({components:{TheButton:A["a"],Card:R["a"]},props:{reload:{type:Boolean}},setup:function(){return Object(r["v"])(Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:p["b"].push([new p["a"]({key:"ArrowLeft",action:function(){return Y().focus()}}),new p["a"]({key:"ArrowRight",action:function(){return E().focus()}})]);case 1:case"end":return t.stop()}}),t)})))),Object(r["w"])((function(){p["b"].pop()})),Object(B["a"])({},w())}});const G=g()(P,[["render",N]]);var J=G,X=Object(r["j"])({components:{TheDatabasePicker:J},setup:function(){var t=w(),e=t.isDatabaseLoaded,n=Object(I["c"])();return F(e,(function(t){t&&n.push("logs")})),{}}});n("21eb");const $=g()(X,[["render",_],["__scopeId","data-v-13b02c0d"]]);var U=$;function V(t,e,n,c,a,o){var u=Object(r["F"])("the-logs"),i=Object(r["F"])("the-layout");return Object(r["x"])(),Object(r["d"])(i,{checkDatabaseLoaded:!0},{default:Object(r["N"])((function(){return[Object(r["i"])(u)]})),_:1})}n("fb6a"),n("99af"),n("d81d");var K={class:"logs"},Q={class:"mb-30"},W={class:"mb-20"},Z={class:"w-3/4"},tt={class:"text-0.8"},et={class:"w-1/4 text-right"};function nt(t,e,n,c,a,o){var u=Object(r["F"])("the-button"),i=Object(r["F"])("the-headline"),s=Object(r["F"])("the-date"),l=Object(r["F"])("the-tag-list"),b=Object(r["F"])("the-grid"),d=Object(r["F"])("the-up-down-navigation");return Object(r["x"])(),Object(r["f"])("div",K,[Object(r["g"])("div",Q,[Object(r["i"])(u,{class:"short-cutter-a",type:"primary",label:"Add a log (a)",onClick:t.addLog},null,8,["onClick"])]),Object(r["i"])(d,{class:"list",selector:".log .button-edit",enabled:!t.services.modalService.getModals().length},{default:Object(r["N"])((function(){return[(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["D"])(t.logsByMonth.slice().reverse(),(function(e){return Object(r["x"])(),Object(r["f"])("div",{key:"".concat(e.year,"-").concat(e.month)},[Object(r["i"])(i,{label:"".concat(e.year," ").concat(e.monthName," (").concat(e.hours," hours)")},null,8,["label"]),Object(r["g"])("div",W,[(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["D"])(e.logs.slice().reverse(),(function(e){return Object(r["x"])(),Object(r["f"])("div",{key:e.getIdentifier(),class:"log"},[Object(r["i"])(b,null,{default:Object(r["N"])((function(){return[Object(r["g"])("div",Z,[Object(r["g"])("div",null,[Object(r["g"])("span",null,[Object(r["i"])(s,{date:e.getDate()},null,8,["date"])]),Object(r["g"])("strong",null,Object(r["I"])(e.getContent()),1),Object(r["g"])("span",null," / "+Object(r["I"])(e.getHours())+"h ",1)]),Object(r["g"])("div",tt,[Object(r["i"])(l,{class:"inline-block mt-10",tags:e.getRelations().getTags().map((function(t){return t.getLabel()}))},null,8,["tags"])])]),Object(r["g"])("div",et,[Object(r["i"])(u,{label:"Delete",size:"xs",onClick:function(n){return t.deleteLog(e)}},null,8,["onClick"]),Object(r["i"])(u,{label:"Edit",class:"button-edit",size:"xs",type:"primary",onClick:function(n){return t.editLog(e)}},null,8,["onClick"])])]})),_:2},1024)])})),128))])])})),128))]})),_:1},8,["selector","enabled"])])}n("3ca3"),n("ddb0");var rt={class:"the-tag-list"};function ct(t,e,n,c,a,o){var u=Object(r["F"])("the-tag");return Object(r["x"])(),Object(r["f"])("div",rt,[(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["D"])(t.tags,(function(t){return Object(r["x"])(),Object(r["d"])(u,{key:t,label:t||"xxx"},null,8,["label"])})),128))])}var at={class:"the-tag"};function ot(t,e,n,c,a,o){return Object(r["x"])(),Object(r["f"])("div",at,Object(r["I"])(t.label),1)}var ut=Object(r["j"])({props:{label:{type:String,required:!0}}});n("a654");const it=g()(ut,[["render",ot],["__scopeId","data-v-6dc66d37"]]);var st=it,lt=Object(r["j"])({components:{TheTag:st},props:{tags:{type:Array,required:!0}}});n("9d96");const bt=g()(lt,[["render",ct],["__scopeId","data-v-5e9a9310"]]);var dt=bt;function ft(t,e,n,c,a,o){return Object(r["x"])(),Object(r["f"])("div",null,[Object(r["g"])("div",{ref:"grid",class:"the-grid",style:Object(r["r"])(t.spaceFix)},[Object(r["E"])(t.$slots,"default",{},void 0,!0)],4)])}n("a9e3"),n("a630");var gt=Object(r["j"])({props:{spacingX:{type:Number,default:20},spacingY:{type:Number,default:20},unit:{type:String,default:"px"}},computed:{spaceFix:function(){return{marginLeft:"".concat(-this.spacingX/2).concat(this.unit),marginRight:"".concat(-this.spacingX/2).concat(this.unit),marginTop:"".concat(-this.spacingY/2).concat(this.unit),marginBottom:"".concat(-this.spacingY/2).concat(this.unit)}}},watch:{spacingX:function(){this.setSpacesOnChildren()},spacingY:function(){this.setSpacesOnChildren()}},mounted:function(){this.setSpacesOnChildren()},methods:{setSpacesOnChildren:function(){for(var t=this.$refs.grid,e=Array.from(t.children),n=0,r=e;n<r.length;n++){var c=r[n];c.style.paddingLeft="".concat(this.spacingX/2).concat(this.unit),c.style.paddingRight="".concat(this.spacingX/2).concat(this.unit),c.style.paddingTop="".concat(this.spacingY/2).concat(this.unit),c.style.paddingBottom="".concat(this.spacingY/2).concat(this.unit)}}}});n("2f10");const jt=g()(gt,[["render",ft],["__scopeId","data-v-5a0a764a"]]);var Ot=jt;function ht(t,e,n,c,a,o){return Object(r["x"])(),Object(r["f"])("div",null,[Object(r["E"])(t.$slots,"default")])}n("c740");var vt=Object(r["j"])({props:{selector:{type:String,required:!0},enabled:{type:Boolean,default:!0}},setup:function(t){var e={currentItems:function(){return Array.from(document.querySelectorAll(t.selector))},keydownHandler:function(n){t.enabled&&("ArrowDown"!==n.key&&"ArrowUp"!==n.key||e.select("ArrowDown"===n.key?"next":"previous"))},up:function(t){"ArrowUp"===t.key&&e.select("previous")},select:function(t){var n="next"===t?e.currentItems():e.currentItems().reverse(),r=document.activeElement,c=n.findIndex((function(t){return t===r}));return-1===c||c===n.length-1?n[0].focus():n[c+1].focus()}};return Object(r["v"])((function(){return document.addEventListener("keydown",e.keydownHandler)})),Object(r["w"])((function(){return document.removeEventListener("keydown",e.keydownHandler)})),{}}});const pt=g()(vt,[["render",ht]]);var mt=pt,yt={class:"the-date"};function kt(t,e,n,c,a,o){return Object(r["x"])(),Object(r["f"])("span",yt,Object(r["I"])(t.dateString),1)}var xt=Object(r["j"])({props:{date:{type:Date,required:!0}},setup:function(t){return{dateString:Object(r["b"])((function(){var e=t.date.getDate(),n=t.date.getMonth()+1,r=t.date.getFullYear();return"".concat(e,".").concat(n,".").concat(r)}))}}});n("96b3");const wt=g()(xt,[["render",kt],["__scopeId","data-v-20e4501a"]]);var St=wt,Dt=n("b85c");n("4e82"),n("07ac"),n("caad"),n("2532");function Tt(){var t=w(),e=t.database,n=Object(r["b"])((function(){return e.value.all("log")})),c=Object(r["b"])((function(){return n.value.sort(It)})),a=Object(r["b"])((function(){return d(c.value)})),o=Object(r["b"])((function(){return b(c.value)})),u=Object(r["b"])((function(){return s(c.value)})),i=Object(r["b"])((function(){return l(c.value)})),s=function(t){var e,n={},r=Object(Dt["a"])(t);try{for(r.s();!(e=r.n()).done;){var c=e.value,a=c.getDate().getFullYear(),o=c.getDate().getMonth()+1;n["".concat(a,"-").concat(o)]=new Date("".concat(a,"-").concat(o,"-1"))}}catch(u){r.e(u)}finally{r.f()}return Object.values(n)},l=function(t){var e,n={},r=Object(Dt["a"])(t);try{for(r.s();!(e=r.n()).done;){var c,a=e.value,o=Object(Dt["a"])(a.getRelations().getTags());try{for(o.s();!(c=o.n()).done;){var u=c.value,i=u.getIdentifier();i&&(n[i]=u)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}return Object.values(n)},b=function(t){var e,n={},r=Object(Dt["a"])(t);try{for(r.s();!(e=r.n()).done;){var c,a=e.value,o=Object(Dt["a"])(a.getRelations().getTags());try{for(o.s();!(c=o.n()).done;){var u=c.value,i=u.getIdentifier();i&&(n[i]||(n[i]={tag:u,logs:[]}),n[i].logs.push(a))}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}return Object.values(n)},d=function(t){var e,n=[],r={},c=Object(Dt["a"])(t);try{for(c.s();!(e=c.n()).done;){var a=e.value,o=a.getDate().getFullYear(),u=a.getDate().getMonth()+1;r[o]||(r[o]={}),r[o][u]||(r[o][u]=[]),r[o][u].push(a)}}catch(l){c.e(l)}finally{c.f()}for(var i in r)for(var s in r[i])n.push({year:parseInt(i),month:parseInt(s),monthName:z(parseInt(s)),hours:H(r[i][s].map((function(t){return t.getHours()}))),logs:r[i][s]});return n.sort((function(t,e){return parseInt("".concat(t.year).concat(t.month))-parseInt("".concat(e.year).concat(e.month))}))},f=function(t,e,n){return t.filter((function(t){return t.getDate().getFullYear()===e&&t.getDate().getMonth()+1===n}))},g=function(t,e){var n=e.getIdentifier();return n?t.filter((function(t){return t.getTags().includes(n)})):[]},j=function(t,e,n,r){return g(f(t,n,r),e)};return{logs:n,logsSorted:c,logsByMonth:a,logsByTag:o,monthYears:u,tags:i,getLogsByMonth:f,getLogsGroupedByMonth:d,getLogsGroupedByTag:b,getLogsByTagAndMonth:j}}function It(t,e){return t.getDate().getTime()-e.getDate().getTime()}function _t(t,e,n,c,a,o){return Object(r["x"])(),Object(r["d"])(Object(r["G"])(t.tag),{class:Object(r["q"])(t.tag)},{default:Object(r["N"])((function(){return[Object(r["h"])(Object(r["I"])(t.label),1)]})),_:1},8,["class"])}var Ft=Object(r["j"])({props:{label:{type:String,required:!0},level:{type:Number,default:2}},setup:function(t){var e=Object(r["b"])((function(){return"h".concat(t.level)}));return{tag:e}}});n("1fae");const Lt=g()(Ft,[["render",_t],["__scopeId","data-v-1c39e73b"]]);var Ct=Lt,Mt=Object(r["j"])({components:{TheHeadline:Ct,TheDate:St,TheUpDownNavigation:mt,TheGrid:Ot,TheTagList:dt,TheButton:A["a"]},setup:function(){var t=w(),e=t.database,c=Tt(),a=c.logsByMonth,o=c.getLogsGroupedByMonth,u=c.logsSorted,i=Object(r["B"])({modalService:b}),s=function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=i.modalService,t.next=3,n.e("chunk-7457aa34").then(n.bind(null,"5ce2"));case 3:t.t1=t.sent,t.t2={commit:function(t){return Object(y["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.value.create("log",t);case 2:i.modalService.pop();case 3:case"end":return n.stop()}}),n)})))()}},t.t3={component:t.t1,listeners:t.t2},t.t0.open.call(t.t0,t.t3);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=i.modalService,t.next=3,n.e("chunk-7457aa34").then(n.bind(null,"5ce2"));case 3:t.t1=t.sent,t.t2={log:r},t.t3={commit:function(t){return Object(y["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.value.update("log",t);case 2:i.modalService.pop();case 3:case"end":return n.stop()}}),n)})))()}},t.t4={component:t.t1,properties:t.t2,listeners:t.t3},t.t0.open.call(t.t0,t.t4);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.value.delete("log",n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{services:i,logsSorted:u,logsByMonth:a,getLogsGroupedByMonth:o,addLog:s,editLog:l,deleteLog:d}}});n("721c");const Nt=g()(Mt,[["render",nt],["__scopeId","data-v-6bb2a566"]]);var Bt=Nt,Rt={key:0},At={class:"w-full sm:w-1/4"},Et={class:"w-full sm:w-3/4"};function Yt(t,e,n,c,a,o){var u=Object(r["F"])("the-status-bar"),i=Object(r["F"])("the-navigation"),s=Object(r["F"])("the-grid");return t.isVisible?(Object(r["x"])(),Object(r["f"])("div",Rt,[Object(r["i"])(u,{class:"mb-30"}),Object(r["i"])(s,{"spacing-x":50},{default:Object(r["N"])((function(){return[Object(r["g"])("div",At,[Object(r["i"])(i)]),Object(r["g"])("div",Et,[Object(r["E"])(t.$slots,"default")])]})),_:3})])):Object(r["e"])("",!0)}var Ht={class:"w-3/4"},zt={class:"mt-4"},qt={key:0},Pt={key:1},Gt={class:"w-1/4 text-right"};function Jt(t,e,n,c,a,o){var u=Object(r["F"])("the-button"),i=Object(r["F"])("the-grid");return Object(r["x"])(),Object(r["f"])("div",{class:Object(r["q"])(["the-status-bar",{dirty:t.database.isDirty()}])},[Object(r["i"])(i,null,{default:Object(r["N"])((function(){return[Object(r["g"])("div",Ht,[Object(r["g"])("div",zt,[t.database.isDirty()?(Object(r["x"])(),Object(r["f"])("span",Pt," Please save your changes ")):(Object(r["x"])(),Object(r["f"])("span",qt," ✓ All todos saved "))])]),Object(r["g"])("div",Gt,[Object(r["i"])(u,{class:"short-cutter-escape",label:"Logout (Escape)",size:"sm",onClick:e[0]||(e[0]=function(e){return t.unregisterDatabase()})}),t.database.isDirty()?(Object(r["x"])(),Object(r["d"])(u,{key:0,class:"short-cutter-s",size:"sm",type:"danger",label:"Save (s)",onClick:e[1]||(e[1]=function(e){return t.database.saveAll()})})):Object(r["e"])("",!0)])]})),_:1})],2)}var Xt=Object(r["j"])({components:{TheGrid:Ot,TheButton:A["a"]},setup:function(){return Object(B["a"])({},w())}});n("c1d1");const $t=g()(Xt,[["render",Jt],["__scopeId","data-v-d8445f0a"]]);var Ut=$t,Vt=function(t){return Object(r["A"])("data-v-1b927eb8"),t=t(),Object(r["y"])(),t},Kt={class:"the-navigation"},Qt=Vt((function(){return Object(r["g"])("strong",null,"•",-1)})),Wt=Object(r["h"])(" Logs (1) "),Zt=Vt((function(){return Object(r["g"])("strong",null,"•",-1)})),te=Object(r["h"])(" Tags (2) "),ee=Vt((function(){return Object(r["g"])("strong",null,"•",-1)})),ne=Object(r["h"])(" Statistics (3) ");function re(t,e,n,c,a,o){var u=Object(r["F"])("router-link");return Object(r["x"])(),Object(r["f"])("div",Kt,[Object(r["g"])("ul",null,[Object(r["g"])("li",null,[Object(r["i"])(u,{to:"logs",class:"node short-cutter-1"},{default:Object(r["N"])((function(){return[Qt,Wt]})),_:1})]),Object(r["g"])("li",null,[Object(r["i"])(u,{to:"tags",class:"node short-cutter-2"},{default:Object(r["N"])((function(){return[Zt,te]})),_:1})]),Object(r["g"])("li",null,[Object(r["i"])(u,{to:"statistics",class:"node short-cutter-3"},{default:Object(r["N"])((function(){return[ee,ne]})),_:1})])])])}var ce=Object(r["j"])({});n("8400");const ae=g()(ce,[["render",re],["__scopeId","data-v-1b927eb8"]]);var oe=ae,ue=Object(r["j"])({components:{TheNavigation:oe,TheGrid:Ot,TheStatusBar:Ut},props:{checkDatabaseLoaded:{type:Boolean,default:!1}},setup:function(t){var e=Object(r["C"])(!0);if(t.checkDatabaseLoaded){e.value=!1;var n=w(),c=n.isDatabaseLoaded,a=Object(I["c"])();F(c,(function(t){if(!t)return a.push("/");e.value=!0}))}return{isVisible:e}}});const ie=g()(ue,[["render",Yt]]);var se=ie,le=Object(r["j"])({components:{TheLayout:se,TheLogs:Bt}});n("1e8d");const be=g()(le,[["render",V],["__scopeId","data-v-28972a96"]]);var de=be;function fe(t,e,n,c,a,o){var u=Object(r["F"])("the-tags"),i=Object(r["F"])("the-layout");return Object(r["x"])(),Object(r["d"])(i,{checkDatabaseLoaded:!0},{default:Object(r["N"])((function(){return[Object(r["i"])(u)]})),_:1})}var ge={class:"tags"},je={class:"mb-30"},Oe={class:"w-3/4"},he={class:"w-1/4 text-right"};function ve(t,e,n,c,a,o){var u=Object(r["F"])("the-button"),i=Object(r["F"])("the-grid");return Object(r["x"])(),Object(r["f"])("div",ge,[Object(r["g"])("div",je,[Object(r["i"])(u,{class:"button-add-tag short-cutter-a",label:"Add a tag (a)",onClick:t.methods.addTag,type:"primary"},null,8,["onClick"])]),(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["D"])(t.tags,(function(e){return Object(r["x"])(),Object(r["f"])("div",{key:e.getLabel(),class:"tag"},[Object(r["i"])(i,null,{default:Object(r["N"])((function(){return[Object(r["g"])("div",Oe,[Object(r["g"])("span",null,Object(r["I"])(e.getLabel()),1)]),Object(r["g"])("div",he,[Object(r["i"])(u,{onClick:function(n){return t.methods.deleteTag(e)},class:"ml-5",type:"xs",label:"Delete"},null,8,["onClick"])])]})),_:2},1024)])})),128))])}var pe=Object(r["j"])({components:{TheGrid:Ot,TheButton:A["a"]},setup:function(){var t=Object(r["B"])({modalService:b,database:k["a"].getDatabase()}),e={addTag:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t.modalService,e.next=3,n.e("chunk-72cf4c98").then(n.bind(null,"e6fc"));case 3:e.t1=e.sent,e.t2={tag:new v["a"]({label:""})},e.t3={commit:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.database.create("tag",n);case 2:t.modalService.pop();case 3:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}()},e.t4={component:e.t1,properties:e.t2,listeners:e.t3},e.t0.open.call(e.t0,e.t4);case 8:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}(),deleteTag:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.database.delete("tag",n);case 1:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}()};return{services:t,methods:e,tags:Object(r["b"])((function(){return t.database.all("tag")}))}}});n("b92a");const me=g()(pe,[["render",ve],["__scopeId","data-v-35c24dc0"]]);var ye=me,ke=Object(r["j"])({components:{TheTags:ye,TheLayout:se}});const xe=g()(ke,[["render",fe]]);var we=xe;function Se(t,e,n,c,a,o){var u=Object(r["F"])("the-statistics"),i=Object(r["F"])("the-layout");return Object(r["x"])(),Object(r["d"])(i,{checkDatabaseLoaded:!0},{default:Object(r["N"])((function(){return[Object(r["i"])(u)]})),_:1})}var De={class:"w-1/2"},Te={class:"w-1/2"},Ie=Object(r["g"])("th",null,"Month",-1);function _e(t,e,n,c,a,o){var u=Object(r["F"])("the-headline"),i=Object(r["F"])("the-bar-chart"),s=Object(r["F"])("the-grid"),l=Object(r["F"])("the-table");return Object(r["x"])(),Object(r["f"])("div",null,[Object(r["i"])(u,{label:"Statistics"}),Object(r["i"])(s,null,{default:Object(r["N"])((function(){return[Object(r["g"])("div",De,[Object(r["i"])(u,{label:"By Month",level:3}),Object(r["i"])(i,{class:"mb-20",data:{labels:t.monthYears.map((function(t){return"".concat(t.getFullYear(),"/").concat(t.getMonth()+1)})),datasets:[{label:"Total",backgroundColor:t.colorByIndex(0),data:t.monthYears.map((function(e){return t.sum(t.getLogsByMonth(t.logs,e.getFullYear(),e.getMonth()+1).map((function(t){return t.getHours()})))}))}]},height:200},null,8,["data"])]),Object(r["g"])("div",Te,[Object(r["i"])(u,{label:"By Month and Tag",level:3}),Object(r["i"])(i,{class:"mb-20",data:{labels:t.monthYears.map((function(t){return"".concat(t.getFullYear(),"/").concat(t.getMonth()+1)})),datasets:t.tags.map((function(e,n){return{label:e.getLabel(),backgroundColor:t.colorByIndex(n),data:t.monthYears.map((function(n){return t.sum(t.getLogsByTagAndMonth(t.logs,e,n.getFullYear(),n.getMonth()+1).map((function(t){return t.getHours()})))}))}}))},height:200},null,8,["data"])])]})),_:1}),Object(r["i"])(l,{class:"mb-20"},{default:Object(r["N"])((function(){return[Object(r["g"])("thead",null,[Object(r["g"])("tr",null,[Ie,(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["D"])(t.tags,(function(t){return Object(r["x"])(),Object(r["f"])("th",{key:t.getIdentifier()},Object(r["I"])(t.getLabel()),1)})),128))])]),Object(r["g"])("tbody",null,[(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["D"])(t.monthYears,(function(e){return Object(r["x"])(),Object(r["f"])("tr",{key:"".concat(e)},[Object(r["g"])("td",null,Object(r["I"])(e.getFullYear())+"/"+Object(r["I"])(e.getMonth()+1),1),(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["D"])(t.tags,(function(n){return Object(r["x"])(),Object(r["f"])("td",{key:n.getIdentifier()},Object(r["I"])(t.sum(t.getLogsByTagAndMonth(t.logs,n,e.getFullYear(),e.getMonth()+1).map((function(t){return t.getHours()})))),1)})),128))])})),128))])]})),_:1})])}var Fe={class:"table"};function Le(t,e,n,c,a,o){return Object(r["x"])(),Object(r["f"])("table",Fe,[Object(r["E"])(t.$slots,"default",{},void 0,!0)])}var Ce=Object(r["j"])({});n("cc3c");const Me=g()(Ce,[["render",Le],["__scopeId","data-v-42ae04c3"]]);var Ne=Me;function Be(t,e,n,c,a,o){var u=Object(r["F"])("Bar");return Object(r["x"])(),Object(r["d"])(u,{"chart-data":n.data,"chart-options":n.chartOptions,width:n.width,height:n.height},null,8,["chart-data","chart-options","width","height"])}var Re=n("368d"),Ae=n("9b4a");Ae["e"].register(Ae["n"],Ae["o"],Ae["g"],Ae["b"],Ae["d"],Ae["i"]);var Ee={components:{Bar:Re["a"]},props:{data:{type:Object,required:!0},chartOptions:{type:Object,default:function(){return{responsive:!0}}},width:{type:Number,default:400},height:{type:Number,default:200}}};const Ye=g()(Ee,[["render",Be]]);var He=Ye,ze=Object(r["j"])({components:{TheGrid:Ot,TheBarChart:He,TheTable:Ne,TheHeadline:Ct},setup:function(){var t=Object(r["b"])((function(){return(new Date).getFullYear()}));return Object(B["a"])({year:t,sum:H,colorByIndex:q},Tt())}});const qe=g()(ze,[["render",_e]]);var Pe=qe,Ge=Object(r["j"])({components:{TheStatistics:Pe,TheLayout:se}});const Je=g()(Ge,[["render",Se]]);var Xe=Je,$e=[{path:"/",name:"Home",component:U},{path:"/logs",name:"logs",component:de},{path:"/tags",name:"tags",component:we},{path:"/statistics",name:"statistics",component:Xe}],Ue=Object(I["a"])({history:Object(I["b"])("/logs/"),routes:$e}),Ve=Ue;n("ba8c");Object(r["c"])(T).use(Ve).mount("#app")},ebe2:function(t,e,n){},f12d:function(t,e,n){},f729:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("d4ec"),c=n("bee2"),a=function(){function t(e){Object(r["a"])(this,t),this.identifier=e.identifier||null,this.label=e.label}return Object(c["a"])(t,[{key:"getIdentifier",value:function(){return this.identifier}},{key:"getLabel",value:function(){return this.label}}],[{key:"getNormalizer",value:function(){return{normalize:function(t){return{identifier:t.getIdentifier(),label:t.getLabel()}},denormalize:function(e){return new t(e)}}}}]),t}()},f8a4:function(t,e,n){}});
//# sourceMappingURL=app.8aebbe31.js.map