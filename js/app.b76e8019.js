(function(t){function e(e){for(var c,r,u=e[0],i=e[1],s=e[2],l=0,d=[];l<u.length;l++)r=u[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);b&&b(e);while(d.length)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],c=!0,r=1;r<n.length;r++){var u=n[r];0!==a[u]&&(c=!1)}c&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var c={},r={app:0},a={app:0},o=[];function u(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-72cf4c98":"06f3ddf9","chunk-7457aa34":"743e0c86"}[t]+".js"}function i(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n={"chunk-72cf4c98":1,"chunk-7457aa34":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var c="css/"+({}[t]||t)+"."+{"chunk-72cf4c98":"5e6556e4","chunk-7457aa34":"27e77f8b"}[t]+".css",a=i.p+c,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var s=o[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===c||l===a))return e()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===c||l===a)return e()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=e,b.onerror=function(e){var c=e&&e.target&&e.target.src||a,o=new Error("Loading CSS chunk "+t+" failed.\n("+c+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=c,delete r[t],b.parentNode.removeChild(b),n(o)},b.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(b)})).then((function(){r[t]=0})));var c=a[t];if(0!==c)if(c)e.push(c[2]);else{var o=new Promise((function(e,n){c=a[t]=[e,n]}));e.push(c[2]=o);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(t);var d=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(b);var n=a[t];if(0!==n){if(n){var c=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+c+": "+r+")",d.name="ChunkLoadError",d.type=c,d.request=r,n[1](d)}a[t]=void 0}};var b=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=c,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)i.d(n,c,function(e){return t[e]}.bind(null,c));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/logs/",i.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var b=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},1360:function(t,e,n){},1479:function(t,e,n){"use strict";n("f12d")},"19c2":function(t,e,n){"use strict";n("2dd0")},"1e8d":function(t,e,n){"use strict";n("4730")},"21eb":function(t,e,n){"use strict";n("ebe2")},2928:function(t,e,n){},"2d1b":function(t,e,n){},"2d89":function(t,e,n){},"2dd0":function(t,e,n){},"2e43":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var c=n("d4ec"),r=n("bee2"),a=(n("99af"),n("4d90"),n("d3b7"),n("25f0"),n("4de4"),n("d81d"),n("7a23")),o=n("0643");function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",e=Object(a["C"])(o["a"].getDatabase(t)),n=function(t){return t.getTags().map((function(t){return e.value.get("tag",t)})).filter((function(t){return t}))};return{getLogTags:n}}var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c["a"])(this,t),this.identifier=e.identifier||null,this.content=e.content||"",this.hours=e.hours||1,this.date=e.date||new Date,this.tags=e.tags||[]}return Object(r["a"])(t,[{key:"getIdentifier",value:function(){return this.identifier}},{key:"getContent",value:function(){return this.content}},{key:"getHours",value:function(){return this.hours}},{key:"getDate",value:function(){return this.date}},{key:"getMonthString",value:function(){return"".concat(this.date.getFullYear(),"/").concat(this.date.getMonth()+1)}},{key:"getTags",value:function(){return this.tags}},{key:"getRelations",value:function(){var t=this;return{getTags:function(){return u().getLogTags(t)}}}},{key:"getDateString",value:function(){var t=this.date,e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),c=t.getDate().toString().padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(c)}}],[{key:"getNormalizer",value:function(){return{normalize:function(t){return{identifier:t.getIdentifier(),content:t.getContent(),hours:t.getHours(),date:t.getDate(),tags:t.getTags()}},denormalize:function(e){return e.date=e.date?new Date(e.date):new Date,e.tags=e.tags||[],new t(e)}}}}]),t}()},"2f10":function(t,e,n){"use strict";n("5de9")},4730:function(t,e,n){},"5de9":function(t,e,n){},"5e26":function(t,e,n){"use strict";n("9fa7")},"7f19":function(t,e,n){"use strict";var c=n("7a23"),r={class:"the-card"},a={key:0,class:"the-card-title"},o={class:"the-card-content"};function u(t,e,n,u,i,s){return Object(c["x"])(),Object(c["f"])("div",r,[t.title?(Object(c["x"])(),Object(c["f"])("div",a,[Object(c["g"])("h2",null,Object(c["I"])(t.title),1)])):Object(c["e"])("",!0),Object(c["g"])("div",o,[Object(c["E"])(t.$slots,"default",{},void 0,!0)])])}var i=Object(c["j"])({props:{title:{type:String}}}),s=(n("1479"),n("6b0d")),l=n.n(s);const d=l()(i,[["render",u],["__scopeId","data-v-4078a343"]]);e["a"]=d},"860f":function(t,e,n){"use strict";n("2928")},"8b24":function(t,e,n){},"8ccc":function(t,e,n){"use strict";n("99af");var c=n("7a23");function r(t,e,n,r,a,o){return Object(c["x"])(),Object(c["f"])("button",{ref:"buttonReference",class:Object(c["q"])(["the-button","".concat(t.type," ").concat(t.size)])},Object(c["I"])(t.label),3)}var a=Object(c["j"])({props:{label:{type:String},type:{type:String,default:"default"},size:{type:String,default:""},autoFocus:{type:Boolean,default:!1}},setup:function(t){var e=Object(c["C"])(null);return Object(c["v"])((function(){var n=e.value;t.autoFocus&&n&&n.focus()})),{buttonReference:e}}}),o=(n("e59d"),n("6b0d")),u=n.n(o);const i=u()(a,[["render",r],["__scopeId","data-v-789af156"]]);e["a"]=i},"928c":function(t,e,n){},"9d96":function(t,e,n){"use strict";n("9ff1")},"9fa7":function(t,e,n){},"9ff1":function(t,e,n){},a05f:function(t,e,n){},a654:function(t,e,n){"use strict";n("928c")},b295:function(t,e,n){"use strict";n("8b24")},b92a:function(t,e,n){"use strict";n("1360")},ba8c:function(t,e,n){},bf38:function(t,e,n){"use strict";n("99af"),Date.prototype.getMonthName=function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][this.getMonth()]},Date.prototype.getMonthAndYear=function(){return"".concat(this.getMonthName(),"/").concat(this.getFullYear())},Date.prototype.getDayAndMonth=function(){return"".concat(this.getDate(),".").concat(this.getMonthName())}},c1d1:function(t,e,n){"use strict";n("2d1b")},c7dd:function(t,e,n){"use strict";n("2d89")},cc3c:function(t,e,n){"use strict";n("a05f")},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r={class:"container mt-30 px-20"};function a(t,e,n,a,o,u){var i=Object(c["F"])("router-view"),s=Object(c["F"])("modals");return Object(c["x"])(),Object(c["f"])(c["a"],null,[Object(c["g"])("div",r,[Object(c["i"])(i)]),Object(c["i"])(s)],64)}var o={key:0,class:"modals"},u={class:"modals-content"};function i(t,e,n,r,a,i){return t.services.modalService.getModals().length?(Object(c["x"])(),Object(c["f"])("div",o,[Object(c["g"])("div",u,[(Object(c["x"])(!0),Object(c["f"])(c["a"],null,Object(c["D"])(t.services.modalService.getModals(),(function(t){return Object(c["x"])(),Object(c["d"])(Object(c["G"])(t.component),Object(c["o"])(t.properties,Object(c["J"])(t.listeners),{key:t,class:"modal"}),null,16)})),128))])])):Object(c["e"])("",!0)}var s=n("d4ec"),l=n("bee2"),d=new(function(){function t(){Object(s["a"])(this,t),this.modals=[]}return Object(l["a"])(t,[{key:"open",value:function(t){var e=this;t.component=Object(c["H"])(t.component.default),t.listeners=t.listeners||{},t.listeners.close=function(){return e.pop()},this.modals.push(t)}},{key:"pop",value:function(){this.modals.pop()}},{key:"getModals",value:function(){return this.modals}}]),t}()),b=Object(c["j"])({setup:function(){var t=Object(c["B"])({modalService:d});return{services:t}}}),f=(n("c7dd"),n("6b0d")),g=n.n(f);const j=g()(b,[["render",i],["__scopeId","data-v-c91fb420"]]);var O=j,h=n("2e43"),v=n("f729"),p=n("c64c");function m(){var t=function(t){var e=document.querySelectorAll(t);if(!e.length)return null;e.length>1&&console.log("More than one element found for selector: ".concat(t));var n=e[0];return n instanceof HTMLElement?n:null};return{findExactlyOneHtmlElementOrNull:t}}var y=n("1da1"),k=(n("96cf"),n("0643"));function w(){return{fileStore:Object(c["C"])(k["a"])}}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",e=w(),n=e.fileStore,r=Object(c["C"])(!1),a=Object(c["C"])(null),o=Object(c["b"])((function(){return n.value.isDatabaseRegistered(t)})),u=Object(c["b"])((function(){return n.value.getDatabase(t)}));return Object(c["v"])(Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.value.isDatabaseStored(t);case 2:a.value=e.sent,r.value=!0;case 4:case"end":return e.stop()}}),e)})))),{isReady:r,isDatabaseLoaded:o,isStoredInSession:a,database:u,createDatabase:function(){return n.value.createAndRegisterDatabase(t)},pickDatabase:function(){return n.value.pickAndRegisterDatabase(t)},pickDatabaseFromSession:function(){return n.value.pickFromSessionAndRegisterDatabase(t)},unregisterDatabase:function(){return n.value.unregisterDatabase(t)},registerNormalizer:function(e,c){return n.value.registerSerializer(e,c,t)}}}n("bf38");var D={components:{Modals:O},setup:function(){var t=m(),e=t.findExactlyOneHtmlElementOrNull,n=x(),c=n.registerNormalizer;return p["b"].push([new p["a"]({key:"a",action:function(){var t;return null===(t=e(".short-cutter-a"))||void 0===t?void 0:t.click()}}),new p["a"]({key:"s",action:function(){var t;return null===(t=e(".short-cutter-s"))||void 0===t?void 0:t.click()}}),new p["a"]({key:"Escape",action:function(){var t;return null===(t=e(".short-cutter-escape"))||void 0===t?void 0:t.click()}}),new p["a"]({key:"1",action:function(){var t;return null===(t=e(".short-cutter-1"))||void 0===t?void 0:t.click()}}),new p["a"]({key:"2",action:function(){var t;return null===(t=e(".short-cutter-2"))||void 0===t?void 0:t.click()}}),new p["a"]({key:"3",action:function(){var t;return null===(t=e(".short-cutter-3"))||void 0===t?void 0:t.click()}})]),c("log",h["a"].getNormalizer()),c("tag",v["a"].getNormalizer()),{}}};n("b295");const S=g()(D,[["render",a]]);var T=S,F=n("6c02");function L(t,e,n,r,a,o){var u=Object(c["F"])("the-database-picker");return Object(c["x"])(),Object(c["f"])("div",null,[Object(c["i"])(u)])}function _(t,e){Object(c["M"])(t,e,{immediate:!0})}var M={key:0,class:"the-database-picker"},I=Object(c["g"])("p",null,"You have 2 options: Pick an existing database or create a new one.",-1),C={class:"mt-10"};function B(t,e,n,r,a,o){var u=Object(c["F"])("the-button"),i=Object(c["F"])("card");return t.isReady?(Object(c["x"])(),Object(c["f"])("div",M,[Object(c["i"])(i,{title:"Choose"},{default:Object(c["N"])((function(){return[I,Object(c["g"])("div",C,[t.isStoredInSession?(Object(c["x"])(),Object(c["d"])(u,{key:0,label:"Continue session",onClick:t.pickDatabaseFromSession,type:"primary","auto-focus":!0},null,8,["onClick"])):Object(c["e"])("",!0),Object(c["i"])(u,{label:"Pick database",onClick:t.pickDatabase,"auto-focus":!t.isStoredInSession,type:"primary"},null,8,["onClick","auto-focus"]),Object(c["i"])(u,{label:"Create database",onClick:t.createDatabase},null,8,["onClick"])])]})),_:1})])):Object(c["e"])("",!0)}var N=n("5530"),A=n("7f19"),R=n("8ccc");n("4de4"),n("d3b7"),n("159b");function Y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"input, button, select, textarea, a[href]",e=document.activeElement,n=document.querySelectorAll(t),c=Array.prototype.filter.call(n,(function(t){return t.tabIndex>="0"})),r=c.indexOf(e);return c[r+1]||c[0]}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"input, button, select, textarea, a[href]",e=document.activeElement,n=document.querySelectorAll(t),c=Array.prototype.filter.call(n,(function(t){return t.tabIndex>="0"})).reverse(),r=c.indexOf(e);return c[r+1]||c[0]}function z(t){var e=0;return t.forEach((function(t){e+=t})),e}function H(t){return["#2062a2","#8d1919","#c9a712","#18c912","#868628","#c2199a"][t]||"#000"}var G=Object(c["j"])({components:{TheButton:R["a"],Card:A["a"]},props:{reload:{type:Boolean}},setup:function(){return Object(c["v"])(Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:p["b"].push([new p["a"]({key:"ArrowLeft",action:function(){return E().focus()}}),new p["a"]({key:"ArrowRight",action:function(){return Y().focus()}})]);case 1:case"end":return t.stop()}}),t)})))),Object(c["w"])((function(){p["b"].pop()})),Object(N["a"])({},x())}});const q=g()(G,[["render",B]]);var P=q,J=Object(c["j"])({components:{TheDatabasePicker:P},setup:function(){var t=x(),e=t.isDatabaseLoaded,n=Object(F["c"])();return _(e,(function(t){t&&n.push("logs")})),{}}});n("21eb");const X=g()(J,[["render",L],["__scopeId","data-v-13b02c0d"]]);var $=X;function U(t,e,n,r,a,o){var u=Object(c["F"])("the-logs"),i=Object(c["F"])("the-layout");return Object(c["x"])(),Object(c["d"])(i,{checkDatabaseLoaded:!0},{default:Object(c["N"])((function(){return[Object(c["i"])(u)]})),_:1})}n("99af"),n("d81d");var V={class:"logs"},K={class:"mb-30"},Q={class:"mb-20"},W={class:"w-1/12 text-primary"},Z={class:"w-11/12"},tt={class:"w-4/5"},et={class:"t-o-e"},nt={class:"text-0.8"},ct={class:"w-1/5 text-right"};function rt(t,e,n,r,a,o){var u=Object(c["F"])("the-button"),i=Object(c["F"])("the-headline"),s=(Object(c["F"])("the-tag-list"),Object(c["F"])("the-grid")),l=Object(c["F"])("the-up-down-navigation");return Object(c["x"])(),Object(c["f"])("div",V,[Object(c["g"])("div",K,[Object(c["i"])(u,{class:"short-cutter-a",type:"primary",label:"Add a log (a)",onClick:t.addLog},null,8,["onClick"])]),Object(c["i"])(l,{class:"list",selector:".log .button-edit",enabled:!t.services.modalService.getModals().length},{default:Object(c["N"])((function(){return[(Object(c["x"])(!0),Object(c["f"])(c["a"],null,Object(c["D"])(t.logsByMonthReversed,(function(e){return Object(c["x"])(),Object(c["f"])("div",{key:"".concat(e.item.getFullYear(),"-").concat(e.item.getMonth()+1)},[Object(c["i"])(i,{label:"".concat(e.item.getMonthAndYear()),level:3},null,8,["label"]),Object(c["g"])("div",Q,[(Object(c["x"])(!0),Object(c["f"])(c["a"],null,Object(c["D"])(t.getLogsGroupedByDay(e.logs),(function(e){return Object(c["x"])(),Object(c["d"])(s,{key:e.item.getTime(),class:"day"},{default:Object(c["N"])((function(){return[Object(c["g"])("div",W,[Object(c["g"])("em",null,Object(c["I"])(e.item.getDayAndMonth()),1)]),Object(c["g"])("div",Z,[(Object(c["x"])(!0),Object(c["f"])(c["a"],null,Object(c["D"])(e.logs,(function(e){return Object(c["x"])(),Object(c["f"])("div",{key:e.getIdentifier(),class:"log"},[Object(c["i"])(s,null,{default:Object(c["N"])((function(){return[Object(c["g"])("div",tt,[Object(c["g"])("div",et,[Object(c["g"])("span",null,Object(c["I"])(e.getHours())+"h • ",1),Object(c["g"])("span",null,Object(c["I"])(e.getContent()),1)]),Object(c["g"])("div",nt,[Object(c["e"])("",!0)])]),Object(c["g"])("div",ct,[Object(c["i"])(u,{onClick:function(n){return t.deleteLog(e)},label:"Delete",size:"xs"},null,8,["onClick"]),Object(c["i"])(u,{size:"xs",class:"button-edit",type:"primary",onClick:function(n){return t.editLog(e)},label:"Edit"},null,8,["onClick"])])]})),_:2},1024)])})),128))])]})),_:2},1024)})),128))])])})),128))]})),_:1},8,["selector","enabled"])])}n("fb6a"),n("3ca3"),n("ddb0");var at={class:"the-tag-list"};function ot(t,e,n,r,a,o){var u=Object(c["F"])("the-tag");return Object(c["x"])(),Object(c["f"])("div",at,[(Object(c["x"])(!0),Object(c["f"])(c["a"],null,Object(c["D"])(t.tags,(function(t){return Object(c["x"])(),Object(c["d"])(u,{key:t,label:t||"xxx"},null,8,["label"])})),128))])}var ut={class:"the-tag"};function it(t,e,n,r,a,o){return Object(c["x"])(),Object(c["f"])("div",ut,Object(c["I"])(t.label),1)}var st=Object(c["j"])({props:{label:{type:String,required:!0}}});n("a654");const lt=g()(st,[["render",it],["__scopeId","data-v-6dc66d37"]]);var dt=lt,bt=Object(c["j"])({components:{TheTag:dt},props:{tags:{type:Array,required:!0}}});n("9d96");const ft=g()(bt,[["render",ot],["__scopeId","data-v-5e9a9310"]]);var gt=ft;function jt(t,e,n,r,a,o){return Object(c["x"])(),Object(c["f"])("div",null,[Object(c["g"])("div",{ref:"grid",class:"the-grid",style:Object(c["r"])(t.spaceFix)},[Object(c["E"])(t.$slots,"default",{},void 0,!0)],4)])}n("a9e3"),n("a630");var Ot=Object(c["j"])({props:{spacingX:{type:Number,default:20},spacingY:{type:Number,default:20},unit:{type:String,default:"px"}},computed:{spaceFix:function(){return{marginLeft:"".concat(-this.spacingX/2).concat(this.unit),marginRight:"".concat(-this.spacingX/2).concat(this.unit),marginTop:"".concat(-this.spacingY/2).concat(this.unit),marginBottom:"".concat(-this.spacingY/2).concat(this.unit)}}},watch:{spacingX:function(){this.setSpacesOnChildren()},spacingY:function(){this.setSpacesOnChildren()}},mounted:function(){this.setSpacesOnChildren()},methods:{setSpacesOnChildren:function(){for(var t=this.$refs.grid,e=Array.from(t.children),n=0,c=e;n<c.length;n++){var r=c[n];r.style.paddingLeft="".concat(this.spacingX/2).concat(this.unit),r.style.paddingRight="".concat(this.spacingX/2).concat(this.unit),r.style.paddingTop="".concat(this.spacingY/2).concat(this.unit),r.style.paddingBottom="".concat(this.spacingY/2).concat(this.unit)}}}});n("2f10");const ht=g()(Ot,[["render",jt],["__scopeId","data-v-5a0a764a"]]);var vt=ht;function pt(t,e,n,r,a,o){return Object(c["x"])(),Object(c["f"])("div",null,[Object(c["E"])(t.$slots,"default")])}n("c740");var mt=Object(c["j"])({props:{selector:{type:String,required:!0},enabled:{type:Boolean,default:!0}},setup:function(t){var e={currentItems:function(){return Array.from(document.querySelectorAll(t.selector))},keydownHandler:function(n){t.enabled&&("ArrowDown"!==n.key&&"ArrowUp"!==n.key||e.select("ArrowDown"===n.key?"next":"previous"))},up:function(t){"ArrowUp"===t.key&&e.select("previous")},select:function(t){var n="next"===t?e.currentItems():e.currentItems().reverse(),c=document.activeElement,r=n.findIndex((function(t){return t===c}));return-1===r||r===n.length-1?n[0].focus():n[r+1].focus()}};return Object(c["v"])((function(){return document.addEventListener("keydown",e.keydownHandler)})),Object(c["w"])((function(){return document.removeEventListener("keydown",e.keydownHandler)})),{}}});const yt=g()(mt,[["render",pt]]);var kt=yt,wt=n("2909"),xt=n("b85c");n("4e82"),n("07ac"),n("caad"),n("2532");function Dt(){var t=x(),e=t.database,n=Object(c["b"])((function(){return e.value.all("log")})),r=Object(c["b"])((function(){return n.value.sort(St)})),a=Object(c["b"])((function(){return b(r.value)})),o=Object(c["b"])((function(){return d(r.value)})),u=Object(c["b"])((function(){return s(r.value)})),i=Object(c["b"])((function(){return l(r.value)})),s=function(t){var e,n={},c=Object(xt["a"])(t);try{for(c.s();!(e=c.n()).done;){var r=e.value,a=r.getDate().getFullYear(),o=r.getDate().getMonth()+1;n["".concat(a,"-").concat(o)]=new Date("".concat(a,"-").concat(o,"-1"))}}catch(u){c.e(u)}finally{c.f()}return Object.values(n)},l=function(t){var e,n={},c=Object(xt["a"])(t);try{for(c.s();!(e=c.n()).done;){var r,a=e.value,o=Object(xt["a"])(a.getRelations().getTags());try{for(o.s();!(r=o.n()).done;){var u=r.value,i=u.getIdentifier();i&&(n[i]=u)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){c.e(s)}finally{c.f()}return Object.values(n)},d=function(t){var e,n={},c=Object(xt["a"])(t);try{for(c.s();!(e=c.n()).done;){var r,a=e.value,o=Object(xt["a"])(a.getRelations().getTags());try{for(o.s();!(r=o.n()).done;){var u=r.value,i=u.getIdentifier();i&&(n[i]||(n[i]={tag:u,logs:[]}),n[i].logs.push(a))}}catch(s){o.e(s)}finally{o.f()}}}catch(s){c.e(s)}finally{c.f()}return Object.values(n)},b=function(t){return g(t,(function(t){var e=t.getDate().getFullYear(),n=t.getDate().getMonth();return{key:"".concat(e,"/").concat(n),item:new Date(e,n,1,1,0,0)}}))},f=function(t){return g(t,(function(t){var e=t.getDate().getFullYear(),n=t.getDate().getMonth(),c=t.getDate().getDate();return{key:"".concat(e,"/").concat(n,"/").concat(c),item:new Date(e,n,c)}}))},g=function(t,e){var n,c={},r=Object(xt["a"])(t);try{for(r.s();!(n=r.n()).done;){var a=n.value,o=e(a);c[o.key]={item:o.item,logs:c[o.key]?[].concat(Object(wt["a"])(c[o.key].logs),[a]):[a]}}}catch(u){r.e(u)}finally{r.f()}return Object.values(c)},j=function(t,e,n){return t.filter((function(t){return t.getDate().getFullYear()===e&&t.getDate().getMonth()+1===n}))},O=function(t,e){var n=e.getIdentifier();return n?t.filter((function(t){return t.getTags().includes(n)})):[]},h=function(t,e,n,c){return O(j(t,n,c),e)};return{logs:n,logsSorted:r,logsByMonth:a,logsByTag:o,monthYears:u,tags:i,getLogsByMonth:j,getLogsGroupedByDay:f,getLogsGroupedByMonth:b,getLogsGroupedByTag:d,getLogsByTagAndMonth:h}}function St(t,e){return t.getDate().getTime()-e.getDate().getTime()}function Tt(t,e,n,r,a,o){return Object(c["x"])(),Object(c["d"])(Object(c["G"])(t.tag),{class:Object(c["q"])(t.tag)},{default:Object(c["N"])((function(){return[Object(c["h"])(Object(c["I"])(t.label),1)]})),_:1},8,["class"])}var Ft=Object(c["j"])({props:{label:{type:String,required:!0},level:{type:Number,default:2}},setup:function(t){var e=Object(c["b"])((function(){return"h".concat(t.level)}));return{tag:e}}});n("5e26");const Lt=g()(Ft,[["render",Tt],["__scopeId","data-v-6c52d65b"]]);var _t=Lt,Mt=Object(c["j"])({components:{TheHeadline:_t,TheUpDownNavigation:kt,TheGrid:vt,TheTagList:gt,TheButton:R["a"]},setup:function(){var t=x(),e=t.database,r=Dt(),a=r.logsByMonth,o=r.getLogsGroupedByMonth,u=r.getLogsGroupedByDay,i=Object(c["b"])((function(){return a.value.slice().reverse()})),s=Object(c["B"])({modalService:d}),l=function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=s.modalService,t.next=3,n.e("chunk-7457aa34").then(n.bind(null,"5ce2"));case 3:t.t1=t.sent,t.t2={commit:function(t){return Object(y["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.value.create("log",t);case 2:s.modalService.pop();case 3:case"end":return n.stop()}}),n)})))()}},t.t3={component:t.t1,listeners:t.t2},t.t0.open.call(t.t0,t.t3);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(c){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=s.modalService,t.next=3,n.e("chunk-7457aa34").then(n.bind(null,"5ce2"));case 3:t.t1=t.sent,t.t2={log:c},t.t3={commit:function(t){return Object(y["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.value.update("log",t);case 2:s.modalService.pop();case 3:case"end":return n.stop()}}),n)})))()}},t.t4={component:t.t1,properties:t.t2,listeners:t.t3},t.t0.open.call(t.t0,t.t4);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.value.delete("log",n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{services:s,logsByMonth:a,logsByMonthReversed:i,getLogsGroupedByMonth:o,getLogsGroupedByDay:u,addLog:l,editLog:b,deleteLog:f}}});n("860f");const It=g()(Mt,[["render",rt],["__scopeId","data-v-92dda976"]]);var Ct=It,Bt={key:0},Nt={class:"w-full sm:w-1/4"},At={class:"w-full sm:w-3/4"};function Rt(t,e,n,r,a,o){var u=Object(c["F"])("the-status-bar"),i=Object(c["F"])("the-navigation"),s=Object(c["F"])("the-grid");return t.isVisible?(Object(c["x"])(),Object(c["f"])("div",Bt,[Object(c["i"])(u,{class:"mb-30"}),Object(c["i"])(s,{"spacing-x":50},{default:Object(c["N"])((function(){return[Object(c["g"])("div",Nt,[Object(c["i"])(i)]),Object(c["g"])("div",At,[Object(c["E"])(t.$slots,"default")])]})),_:3})])):Object(c["e"])("",!0)}var Yt={class:"w-3/4"},Et={class:"mt-4"},zt={key:0},Ht={key:1},Gt={class:"w-1/4 text-right"};function qt(t,e,n,r,a,o){var u=Object(c["F"])("the-button"),i=Object(c["F"])("the-grid");return Object(c["x"])(),Object(c["f"])("div",{class:Object(c["q"])(["the-status-bar",{dirty:t.database.isDirty()}])},[Object(c["i"])(i,null,{default:Object(c["N"])((function(){return[Object(c["g"])("div",Yt,[Object(c["g"])("div",Et,[t.database.isDirty()?(Object(c["x"])(),Object(c["f"])("span",Ht," Please save your changes ")):(Object(c["x"])(),Object(c["f"])("span",zt," ✓ All todos saved "))])]),Object(c["g"])("div",Gt,[Object(c["i"])(u,{class:"short-cutter-escape",label:"Logout (Escape)",size:"sm",onClick:e[0]||(e[0]=function(e){return t.unregisterDatabase()})}),t.database.isDirty()?(Object(c["x"])(),Object(c["d"])(u,{key:0,class:"short-cutter-s",size:"sm",type:"danger",label:"Save (s)",onClick:e[1]||(e[1]=function(e){return t.database.saveAll()})})):Object(c["e"])("",!0)])]})),_:1})],2)}var Pt=Object(c["j"])({components:{TheGrid:vt,TheButton:R["a"]},setup:function(){return Object(N["a"])({},x())}});n("c1d1");const Jt=g()(Pt,[["render",qt],["__scopeId","data-v-d8445f0a"]]);var Xt=Jt,$t=function(t){return Object(c["A"])("data-v-d5bb8612"),t=t(),Object(c["y"])(),t},Ut={class:"the-navigation"},Vt=$t((function(){return Object(c["g"])("strong",null,"•",-1)})),Kt=Object(c["h"])(" Logs (1) "),Qt=$t((function(){return Object(c["g"])("strong",null,"•",-1)})),Wt=Object(c["h"])(" Tags (2) "),Zt=$t((function(){return Object(c["g"])("strong",null,"•",-1)})),te=Object(c["h"])(" Statistics (3) ");function ee(t,e,n,r,a,o){var u=Object(c["F"])("router-link");return Object(c["x"])(),Object(c["f"])("div",Ut,[Object(c["g"])("ul",null,[Object(c["g"])("li",null,[Object(c["i"])(u,{to:"logs",class:"node short-cutter-1"},{default:Object(c["N"])((function(){return[Vt,Kt]})),_:1})]),Object(c["g"])("li",null,[Object(c["i"])(u,{to:"tags",class:"node short-cutter-2"},{default:Object(c["N"])((function(){return[Qt,Wt]})),_:1})]),Object(c["g"])("li",null,[Object(c["i"])(u,{to:"statistics",class:"node short-cutter-3"},{default:Object(c["N"])((function(){return[Zt,te]})),_:1})])])])}var ne=Object(c["j"])({});n("19c2");const ce=g()(ne,[["render",ee],["__scopeId","data-v-d5bb8612"]]);var re=ce,ae=Object(c["j"])({components:{TheNavigation:re,TheGrid:vt,TheStatusBar:Xt},props:{checkDatabaseLoaded:{type:Boolean,default:!1}},setup:function(t){var e=Object(c["C"])(!0);if(t.checkDatabaseLoaded){e.value=!1;var n=x(),r=n.isDatabaseLoaded,a=Object(F["c"])();_(r,(function(t){if(!t)return a.push("/");e.value=!0}))}return{isVisible:e}}});const oe=g()(ae,[["render",Rt]]);var ue=oe,ie=Object(c["j"])({components:{TheLayout:ue,TheLogs:Ct}});n("1e8d");const se=g()(ie,[["render",U],["__scopeId","data-v-28972a96"]]);var le=se;function de(t,e,n,r,a,o){var u=Object(c["F"])("the-tags"),i=Object(c["F"])("the-layout");return Object(c["x"])(),Object(c["d"])(i,{checkDatabaseLoaded:!0},{default:Object(c["N"])((function(){return[Object(c["i"])(u)]})),_:1})}var be={class:"tags"},fe={class:"mb-30"},ge={class:"w-3/4"},je={class:"w-1/4 text-right"};function Oe(t,e,n,r,a,o){var u=Object(c["F"])("the-button"),i=Object(c["F"])("the-grid");return Object(c["x"])(),Object(c["f"])("div",be,[Object(c["g"])("div",fe,[Object(c["i"])(u,{class:"button-add-tag short-cutter-a",label:"Add a tag (a)",onClick:t.methods.addTag,type:"primary"},null,8,["onClick"])]),(Object(c["x"])(!0),Object(c["f"])(c["a"],null,Object(c["D"])(t.tags,(function(e){return Object(c["x"])(),Object(c["f"])("div",{key:e.getLabel(),class:"tag"},[Object(c["i"])(i,null,{default:Object(c["N"])((function(){return[Object(c["g"])("div",ge,[Object(c["g"])("span",null,Object(c["I"])(e.getLabel()),1)]),Object(c["g"])("div",je,[Object(c["i"])(u,{onClick:function(n){return t.methods.deleteTag(e)},class:"ml-5",type:"xs",label:"Delete"},null,8,["onClick"])])]})),_:2},1024)])})),128))])}var he=Object(c["j"])({components:{TheGrid:vt,TheButton:R["a"]},setup:function(){var t=Object(c["B"])({modalService:d,database:k["a"].getDatabase()}),e={addTag:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t.modalService,e.next=3,n.e("chunk-72cf4c98").then(n.bind(null,"e6fc"));case 3:e.t1=e.sent,e.t2={tag:new v["a"]({label:""})},e.t3={commit:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.database.create("tag",n);case 2:t.modalService.pop();case 3:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}()},e.t4={component:e.t1,properties:e.t2,listeners:e.t3},e.t0.open.call(e.t0,e.t4);case 8:case"end":return e.stop()}}),e)})));function c(){return e.apply(this,arguments)}return c}(),deleteTag:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.database.delete("tag",n);case 1:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}()};return{services:t,methods:e,tags:Object(c["b"])((function(){return t.database.all("tag")}))}}});n("b92a");const ve=g()(he,[["render",Oe],["__scopeId","data-v-35c24dc0"]]);var pe=ve,me=Object(c["j"])({components:{TheTags:pe,TheLayout:ue}});const ye=g()(me,[["render",de]]);var ke=ye;function we(t,e,n,r,a,o){var u=Object(c["F"])("the-statistics"),i=Object(c["F"])("the-layout");return Object(c["x"])(),Object(c["d"])(i,{checkDatabaseLoaded:!0},{default:Object(c["N"])((function(){return[Object(c["i"])(u)]})),_:1})}var xe={class:"w-1/2"},De={class:"w-1/2"},Se=Object(c["g"])("th",null,"Month",-1);function Te(t,e,n,r,a,o){var u=Object(c["F"])("the-headline"),i=Object(c["F"])("the-bar-chart"),s=Object(c["F"])("the-grid"),l=Object(c["F"])("the-table");return Object(c["x"])(),Object(c["f"])("div",null,[Object(c["i"])(u,{label:"Statistics"}),Object(c["i"])(s,null,{default:Object(c["N"])((function(){return[Object(c["g"])("div",xe,[Object(c["i"])(u,{label:"By Month",level:3}),Object(c["i"])(i,{class:"mb-20",data:{labels:t.monthYears.map((function(t){return"".concat(t.getFullYear(),"/").concat(t.getMonth()+1)})),datasets:[{label:"Total",backgroundColor:t.colorByIndex(0),data:t.monthYears.map((function(e){return t.sum(t.getLogsByMonth(t.logs,e.getFullYear(),e.getMonth()+1).map((function(t){return t.getHours()})))}))}]},height:200},null,8,["data"])]),Object(c["g"])("div",De,[Object(c["i"])(u,{label:"By Month and Tag",level:3}),Object(c["i"])(i,{class:"mb-20",data:{labels:t.monthYears.map((function(t){return"".concat(t.getFullYear(),"/").concat(t.getMonth()+1)})),datasets:t.tags.map((function(e,n){return{label:e.getLabel(),backgroundColor:t.colorByIndex(n),data:t.monthYears.map((function(n){return t.sum(t.getLogsByTagAndMonth(t.logs,e,n.getFullYear(),n.getMonth()+1).map((function(t){return t.getHours()})))}))}}))},height:200},null,8,["data"])])]})),_:1}),Object(c["i"])(l,{class:"mb-20"},{default:Object(c["N"])((function(){return[Object(c["g"])("thead",null,[Object(c["g"])("tr",null,[Se,(Object(c["x"])(!0),Object(c["f"])(c["a"],null,Object(c["D"])(t.tags,(function(t){return Object(c["x"])(),Object(c["f"])("th",{key:t.getIdentifier()},Object(c["I"])(t.getLabel()),1)})),128))])]),Object(c["g"])("tbody",null,[(Object(c["x"])(!0),Object(c["f"])(c["a"],null,Object(c["D"])(t.monthYears,(function(e){return Object(c["x"])(),Object(c["f"])("tr",{key:"".concat(e)},[Object(c["g"])("td",null,Object(c["I"])(e.getFullYear())+"/"+Object(c["I"])(e.getMonth()+1),1),(Object(c["x"])(!0),Object(c["f"])(c["a"],null,Object(c["D"])(t.tags,(function(n){return Object(c["x"])(),Object(c["f"])("td",{key:n.getIdentifier()},Object(c["I"])(t.sum(t.getLogsByTagAndMonth(t.logs,n,e.getFullYear(),e.getMonth()+1).map((function(t){return t.getHours()})))),1)})),128))])})),128))])]})),_:1})])}var Fe={class:"table"};function Le(t,e,n,r,a,o){return Object(c["x"])(),Object(c["f"])("table",Fe,[Object(c["E"])(t.$slots,"default",{},void 0,!0)])}var _e=Object(c["j"])({});n("cc3c");const Me=g()(_e,[["render",Le],["__scopeId","data-v-42ae04c3"]]);var Ie=Me;function Ce(t,e,n,r,a,o){var u=Object(c["F"])("Bar");return Object(c["x"])(),Object(c["d"])(u,{"chart-data":n.data,"chart-options":n.chartOptions,width:n.width,height:n.height},null,8,["chart-data","chart-options","width","height"])}var Be=n("368d"),Ne=n("9b4a");Ne["e"].register(Ne["n"],Ne["o"],Ne["g"],Ne["b"],Ne["d"],Ne["i"]);var Ae={components:{Bar:Be["a"]},props:{data:{type:Object,required:!0},chartOptions:{type:Object,default:function(){return{responsive:!0}}},width:{type:Number,default:400},height:{type:Number,default:200}}};const Re=g()(Ae,[["render",Ce]]);var Ye=Re,Ee=Object(c["j"])({components:{TheGrid:vt,TheBarChart:Ye,TheTable:Ie,TheHeadline:_t},setup:function(){var t=Object(c["b"])((function(){return(new Date).getFullYear()}));return Object(N["a"])({year:t,sum:z,colorByIndex:H},Dt())}});const ze=g()(Ee,[["render",Te]]);var He=ze,Ge=Object(c["j"])({components:{TheStatistics:He,TheLayout:ue}});const qe=g()(Ge,[["render",we]]);var Pe=qe,Je=[{path:"/",name:"Home",component:$},{path:"/logs",name:"logs",component:le},{path:"/tags",name:"tags",component:ke},{path:"/statistics",name:"statistics",component:Pe}],Xe=Object(F["a"])({history:Object(F["b"])("/logs/"),routes:Je}),$e=Xe;n("ba8c");Object(c["c"])(T).use($e).mount("#app")},ce5c:function(t,e,n){},e59d:function(t,e,n){"use strict";n("ce5c")},ebe2:function(t,e,n){},f12d:function(t,e,n){},f729:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var c=n("d4ec"),r=n("bee2"),a=function(){function t(e){Object(c["a"])(this,t),this.identifier=e.identifier||null,this.label=e.label}return Object(r["a"])(t,[{key:"getIdentifier",value:function(){return this.identifier}},{key:"getLabel",value:function(){return this.label}}],[{key:"getNormalizer",value:function(){return{normalize:function(t){return{identifier:t.getIdentifier(),label:t.getLabel()}},denormalize:function(e){return new t(e)}}}}]),t}()}});
//# sourceMappingURL=app.b76e8019.js.map